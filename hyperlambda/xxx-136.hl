
// Create a Hyperlambda script to display the 3 latest articles with HTML formatting, including title, description, author, and date.
.articles
   .result:
   io.file.list:/etc/www/.blog/
   .no:int:3
   .delay:int:2
   while
      and
         exists:x:@io.file.list/0
         mt:x:@.no
            .:int:0
      .lambda
         io.file.load:x:@io.file.list/0/-
         markdown2html:x:-
         strings.split:x:@io.file.list/0/-
            .:/
         strings.split:x:@strings.split/0/-
            .:.
         strings.substring:x:@strings.split/0
            .:int:11
         .url
         set-value:x:@.url
            strings.concat
               .:/blog/
               get-value:x:@strings.substring
         .date
         strings.substring:x:@strings.split/0
            .:int:0
            .:int:10
         convert:x:@strings.substring
            type:date
         set-value:x:@.date
            date.format:x:@convert
               format:d. MMM yyyy
         get-first-value
            get-value:x:@markdown2html/*/image
            .:/assets/images/ainiro-chatgpt-website-chatbot.png
         set-value:x:@.result
            strings.concat
               get-value:x:@.result
               .:"\n        <div class=\"w-full md:w-2/3 lg:w-1/3\">\n          <div class=\"mx-4 mt-10 single-blog shadow-sm hover:shadow-xl duration-300 rounded-lg px-5 py-8\">\n            <div class=\"mb-5 overflow-hidden blog-image rounded-xl\">"
               .:"\n              <a href=\""
               get-value:x:@.url
               .:"\">\n                <img class=\"w-full\" src=\"/magic/modules/hub/resize-image?img="
               strings.url-encode:x:@get-first-value
               .:&type=webp&width=550
               .:"\" loading=\"lazy\" alt=\""
               get-value:x:@markdown2html/*/title
               .:"\" title=\""
               get-value:x:@markdown2html/*/title
               .:"\">\n              </a>"
               .:"\n            </div>\n            <div>\n              <a href=\""
               get-value:x:@.url
               .:"\" class=\"\n                    mb-4\n                    text-xl\n                    leading-snug\n                    text-gray-900\n                    hover:text-theme-color\n                    block\n                    duration-300\n                    wow\n                    fadeIn\n                  \">\n                <h2 class=\"clip-text\">"
               get-value:x:@markdown2html/*/title
               .:"\n                </h2>\n              </a>\n              <p class=\"blog-description text-sm\">"
               get-value:x:@markdown2html/*/description
               .:"\n              </p>\n              <ul class=\"flex mb-5 meta\">\n                <li>\n                  Posted By: "
               get-value:x:@markdown2html/*/author
               .:"\n                </li>\n                <li class=\"ml-12\">"
               get-value:x:@.date
               .:"\n                </li>\n              </ul>\n              <a class=\"text-theme-color-2 hover:tracking-wider duration-300\" href=\""
               get-value:x:@.url
               .:"\">\n                Read More\n                <i class=\"ml-2 lni lni-chevron-right text-sm font-bold\"></i>\n              </a>"
               .:"\n            </div>\n          </div>\n        </div>"
         remove-nodes:x:@io.file.list/0/-
         math.decrement:x:@.no
         math.increment:x:@.delay
            .:int:2
   return:x:@.result
